#+title:  聚合

* 内容
- 为什么要聚合
- 不同的聚合操作符
- 限制

* 为什么要用聚合

聚合可以作为 MapReduce 和查询的替代方案

对于查询和投影最好用基本的查询来实现,因为聚合的开发、测试、部署复杂度要比内置的命令高。

但是如果要用 group by 以及自关联操作,那么可能需要使用聚合框架。

group()  shell 命令的限制是他的结果文档不应当超过 16MB。另外结果不能超过 20000 个结果。还有就是不能对分片集合进行 group(), 这意味着当数据大小增长时,我们必须重写查询。
